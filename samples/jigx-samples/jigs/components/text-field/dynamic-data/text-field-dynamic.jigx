title: Text
referenceId: text-field-dynamic
type: jig.default

actions:
  - children:
      - componentId: action.execute-entity
        options:
          title: Submit
          provider: DATA_PROVIDER_DYNAMIC
          entity: default/form
          method: save

header:
    componentId: component.image
    options:
      title: Text
      source:
        uri: 'https://cdn2.webdamdb.com/v1_1280_6enPaxIBt9M3.jpg?1554490336'
        
datasources: 
  text-field:
    componentId: datasource.sqlite
    options:
      isDocument: true
      provider: DATA_PROVIDER_DYNAMIC
      entities:
        - entity: default/field-values
      query: |
        SELECT
          '$.id',
          '$.text'
        FROM [default/field-values]
  

children:
  - componentId: component.form
    instanceId: text-form
    options:
      children: 
        - componentId: component.text-field
          instanceId: name
          options:
            label: Name
            helperText: =@ctx.datasources.text-field.text
