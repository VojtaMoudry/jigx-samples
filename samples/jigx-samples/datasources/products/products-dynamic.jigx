type: datasource.sqlite
options:
  provider: DATA_PROVIDER_DYNAMIC
  entities:
    - entity: default/products
  queryParameters:
      '@search': =@ctx.jig.state.searchText
  query: |
    SELECT
      '$.title',
      '$.uri',
      '$.tag',
      '$.price',
      '$.discount'
    FROM [default/products]
    WHERE '$.title' LIKE '%'||@search||'%' OR @search IS NULL ORDER BY '$.title'